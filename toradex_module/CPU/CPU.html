<!-- CPU Temperature-->

<script type="text/html" data-template-name="CPU Temperature">
  <div class="form-row">
      <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="Degree / Kelvin">
  </div>

  <div class="form-row">
      <label for="node-input-unit"><i class="fa fa-tag"></i> Unit</label>
      <input type="text" id="node-input-unit">
  </div>
</script>

<script type="text/html" data-help-name="CPU Temperature">
  <p> This node send the CPU Temperature in degree or kelvin back, which do you more prefer.<br/>
      It is just a Number, the reason for that is to proof with a switch Statement a Number and do something.<br/>
  </p>
</script>


<script type="text/javascript">
    RED.nodes.registerType('CPU Temperature',{
        category: 'Toradex',
        color : '#98FF98',
        defaults :{
            name: {value:""},
            unit:{value:2}
        },
        inputs:1,
        outputs:1,
        icon: "thermometer.png",
        label: function(){
            return this.name||"CPU Temperature";
        },
        oneditprepare() {
        const node = this
        const {number} = node

        $('#node-input-unit').typedInput({
          type: 'number',
          types: [
           {
             value: 'number',
             // Should set the default value but only works if you
             // are working with strings will not accept any type.
              default: Number(number),
              options: [
              { value:      0,label: 'degree'},
              { value: 273.15,label: 'kelvin'}
            ]
          }
        ]
         // Sets the current value will only work if same type
      }).typedInput('value', Number(number))
    }
    });
</script>

<!-- CPU Usage-->

<script type="text/html" data-template-name="CPU Usage">
  <div class="form-row">
      <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="2 Seconds">
  </div>

  <div class="form-row">
      <label for="node-input-timeMeassure"><i class="fa fa-tag"></i> Time to meassure</label>
      <input type="text" id="node-input-timeMeassure">
  </div>

  <div class="form-row">
    <label for="node-input-meassureUnit"><i class="fa fa-tag"></i> Meassure unit</label>
    <input type="text" id="node-input-meassureUnit">
</div>
</script>

<script type="text/html" data-help-name="CPU Usage">
  <p> This node send the CPU usage back in %, measured over a specific time.<br/>
  </p>
</script>

<script type="text/javascript">
  RED.nodes.registerType('CPU Usage',{
      category: 'Toradex',
      color : '#98FF98',
      defaults :{
          name: {value:""},
          timeMeassure: {value:0},
          meassureUnit: {value:1}
      },
      inputs:1,
      outputs:1,
      icon: "cpu_usage.png",
      label: function(){
          return this.name||"CPU Usage";

      },
      oneditprepare() {
      const node = this
      const {number} = node

      $('#node-input-timeMeassure').typedInput({
        type: 'number',
        types: [
          {
            value: 'number',
            // Should set the default value but only works if you
            // are working with strings will not accept any type.
            default: Number(number),
            options: [
              { value: 1,label: '1 '},
              { value: 2,label: '2 '},
              { value: 3,label: '3 '},
              { value: 4,label: '4 '},
              { value: 5,label: '5 '},
              { value: 6,label: '6 '},
              { value: 7,label: '7 '},
              { value: 8,label: '8 '},
              { value: 9,label: '9 '},
              { value: 10,label: '10'}
            ]
          }
        ]
         // Sets the current value will only work if same type
      }).typedInput('value', Number(number))

      $('#node-input-meassureUnit').typedInput({
        type: 'number',
        types: [
          {
            value: 'number',
            // Should set the default value but only works if you
            // are working with strings will not accept any type.
            default: Number(number),
            options: [
              { value: 1,label: 'second'},
              { value: 60,label: 'minute'},
              { value: 3600,label: 'hour'}
            ]
          }
        ]
         // Sets the current value will only work if same type
      }).typedInput('value', Number(number))
    }
  });
</script>





